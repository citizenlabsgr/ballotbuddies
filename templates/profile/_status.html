<table class="table">
    <thead>
        <tr>
            <th scope="col" class="border-end border-bottom"></th>
            <th scope="col" class="text-center border">Result</th>
        </tr>
    </thead>
    <tbody class="border-start border-end">

        <tr class="align-middle">
            <th scope="row">
                Registered to Vote
            </th>

            <td class="text-center table-{{ voter.progress.registered.color }} border-start">
                {{ voter.progress.registered }}
                {% if voter.progress.registered.url %}
                <a href="{{ voter.progress.registered.url }}" target="_blank" class="ms-1 text-decoration-none">ðŸ”—</a>
                {% endif %}
            </td>
        </tr>

        <tr class="align-middle">
            <th scope="row">
                Absentee Application Received
            </th>

            <td class="text-center table-{{ voter.progress.absentee_received.color }} border-start">
                {{ voter.progress.absentee_received }}
            </td>
        </tr>

        <tr class="align-middle">
            <th scope="row">
                Absentee Application Approved
            </th>

            <td class="text-center table-{{ voter.progress.absentee_approved.color }} border-start">
                {{ voter.progress.absentee_approved }}
            </td>
        </tr>

        <tr class="align-middle">
            <th scope="row">
                Ballot Available
            </th>

            <td class="text-center table-{{ voter.progress.ballot_available.color }} border-start">
                {{ voter.progress.ballot_available }}
                {% if voter.progress.ballot_available.url %}
                <a href="{{ voter.progress.ballot_available.url }}" target="_blank" class="ms-1 text-decoration-none">ðŸ”—</a>
                {% endif %}
            </td>
        </tr>

        <tr class="align-middle">
            <th scope="row">
                Absentee Ballot Sent
            </th>

            <td class="text-center table-{{ voter.progress.ballot_sent.color }} border-start">
                {{ voter.progress.ballot_sent }}
            </td>
        </tr>

        <tr class="align-middle">
            <th scope="row">
                Absentee Ballot Received
            </th>

            <td class="text-center table-{{ voter.progress.ballot_received.color }} border-start">
                {{ voter.progress.ballot_received }}
            </td>
        </tr>

        <tr class="align-middle">
            <th scope="row">
                Vote Recorded
            </th>

            <td class="text-center table-{{ voter.progress.voted.color }} border-start">
                <form>{% csrf_token %}

                {% if voter.progress.voted %}
                    {{ voter.progress.voted }}
                    <button class="btn btn-sm btn-outline-dark text-nowrap ms-1"
                        aria-label="Reset"
                        hx-post="{% url 'buddies:status' slug=voter.slug %}"
                        hx-vals='{ "reset": true }'
                        hx-trigger="click"
                        hx-target="closest table"
                        hx-swap="outerHTML">
                        x
                    </button>
                {% else %}
                    <button class="btn btn-sm btn-outline-dark text-nowrap"
                        hx-post="{% url 'buddies:status' slug=voter.slug %}"
                        hx-vals='{ "voted": true }'
                        hx-trigger="click"
                        hx-target="closest table"
                        hx-swap="outerHTML">
                        I Voted
                    </button>
                {% endif %}

                </form>
            </td>
        </tr>

        <tr class="align-middle">
            <th scope="row">
                Election Day
            </th>

            <td class="text-center table-{{ voter.progress.voted.color }} border-start">
                {{ voter.progress.election.full_date }}
            </td>
        </tr>

    </tbody>
</table>
